(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{8356:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings",function(){return t(11)}])},4713:function(e,s,t){"use strict";var l=t(5893),a=t(4712),n=t(9463);s.Z=function(){let e=async()=>{try{let e=await fetch("/api/google/auth",{method:"POST",headers:{"Content-Type":"application/json"}});if(console.log(e),e.ok){let s=await e.json();window.location.assign(s.url)}else a.A.error("Authentication failed")}catch(e){a.A.error("Error during authentication"),console.error("Error during authentication:",e.message)}};return(0,l.jsx)(n.Z,{type:"button",onClick:e,children:"Connect with your search console"})}},7259:function(e,s,t){"use strict";t.d(s,{I:function(){return o},Z:function(){return c}});var l=t(5893),a=t(7294),n=t(2175),r=t(2258),i=t(9993);let c=e=>{let{label:s,...t}=e,[c,o]=(0,a.useState)(!1),d=(0,r.Z)();return(0,l.jsxs)("label",{htmlFor:t.name,className:"block",children:[s&&(0,l.jsx)("span",{children:s}),(0,l.jsxs)("div",{className:"relative mt-1",children:[(0,l.jsx)(n.gN,{id:t.name,className:"pl-9 pr-3 py-3 w-full outline-none bg-custom-gray rounded-md border border-gray-300",...t,type:c?"text":"password",autoComplete:"on",onFocus:e=>{e.target.style.border="1px solid ".concat(d)},onBlur:e=>{e.target.style="border-custom-gray2"}}),(0,l.jsx)("div",{className:"absolute inset-y-0 flex items-center left-3 text-gray-500",children:(0,l.jsx)(i._V,{})}),(0,l.jsx)("div",{className:"absolute inset-y-[1px] px-1 flex items-center right-[1px] bg-custom-gray rounded-md",children:(0,l.jsx)("span",{className:"p-[6px] text-lg cursor-pointer hover:bg-gray-200 active:bg-gray-300 rounded-full text-black/60",onClick:()=>o(!c),children:(0,l.jsx)("span",{children:c?(0,l.jsx)(i.i$,{}):(0,l.jsx)(i.tC,{})})})})]})]})},o=e=>{let{className:s,...t}=e,[r,c]=(0,a.useState)(!1);return(0,l.jsx)("label",{htmlFor:t.name,className:"block w-full",children:(0,l.jsxs)("div",{className:"relative mt-1",children:[(0,l.jsx)(n.gN,{id:t.name,type:r?"text":"password",className:"pl-0.5 py-0 w-full outline-none text-2xl font-bold bg-transparent text-gray-600",...t}),(0,l.jsx)("div",{className:"absolute inset-y-0 right-0 px-2 bg-custom-gray5",children:(0,l.jsx)("span",{className:"size-9 flex justify-center items-center text-lg cursor-pointer hover:bg-gray-200 active:bg-gray-300 rounded-full text-black/60 border border-gray-300",onClick:()=>c(!r),children:(0,l.jsx)("span",{children:r?(0,l.jsx)(i.i$,{}):(0,l.jsx)(i.tC,{})})})})]})})}},4461:function(e,s,t){"use strict";var l=t(7294);s.Z=function(){let[e,s]=(0,l.useState)(!1),t=(0,l.useRef)(null),a=e=>{var l;null!=t&&null!==(l=t.current)&&void 0!==l&&l.contains(e.target)||s(!1)};return(0,l.useEffect)(()=>(document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}),[]),{toggle:e,setToggle:s,node:t}}},11:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return B}});var l=t(5893),a=t(5667),n=t(7294),r=t(2175),i=t(4712),c=t(5623),o=t(9463),d=t(1238),u=function(e){let{currentEmail:s}=e,[t,a]=(0,n.useState)(!1),[u,m]=(0,n.useState)(s),{mutate:x,isPending:h}=(0,d.Z)({path:"/user/change/email",revalidate:"/user/setting"});return(0,l.jsx)("div",{children:(0,l.jsx)(r.J9,{initialValues:{email:s||""},onSubmit:(e,s)=>{x(e,{onSuccess:()=>{i.A.success("Email changed successfully"),s.resetForm(),m(e.email),a(!1)}})},enableReinitialize:!0,children:e=>{let{isSubmitting:s,resetForm:n}=e;return(0,l.jsxs)(r.l0,{children:[(0,l.jsx)("label",{htmlFor:"",children:"Email"}),(0,l.jsxs)("div",{className:"flex w-full items-center gap-5",children:[t?(0,l.jsx)(c.b,{name:"email",type:"email",required:!0,autoFocus:t}):(0,l.jsx)("p",{className:"pl-0.5 pt-1 font-bold text-gray-400 text-2xl w-full",children:u}),t?(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsx)(o.Z,{type:"button",className:"w-[100px]",variant:"outline",onClick:()=>{a(!1),n()},disabled:h,children:"Cancel"}),(0,l.jsx)(o.Z,{type:"submit",className:"w-[100px]",disabled:h,children:"Save"})]}):(0,l.jsx)(o.Z,{type:"button",className:"w-[200px]",onClick:()=>a(!0),children:"Change Email"})]})]})}})})},m=t(5880),x=t(8386),h=t(1708),p=t(8851),j=function(e){let{setFieldValue:s,values:t,setShowOtpField:a}=e,r=t.otp.length,[i,c]=(0,n.useState)(300),{signout:u}=(0,h.Z)(),{mutate:m,isPending:j}=(0,d.Z)({path:"/user/otp/checkandsetpass"});(0,n.useEffect)(()=>{let e=setTimeout(()=>{i>0&&c(i-1)},1e3);return()=>clearTimeout(e)},[i]);let b=e=>{s("otp",e)};return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:" flex flex-col items-center font-manrope",children:[(0,l.jsx)("h1",{className:"text-4xl font-medium",children:"OTP Verification"}),(0,l.jsx)("p",{className:"mt-[10px] text-custom-gray4",children:"We have send an OTP to your email"})]}),(0,l.jsxs)("div",{className:"mt-[48px] w-full",children:[(0,l.jsx)(x.Z,{value:t.otp,onChange:e=>b(e),numInputs:6,inputStyle:"!w-10 h-10 selection:bg-gray-200 border-b-2 border-gray-600 focus:border-black outline-none",containerStyle:"flex justify-between mt-2",shouldAutoFocus:!0,renderInput:e=>(0,l.jsx)("input",{...e})}),(0,l.jsx)("div",{className:"mt-9 flex justify-center",children:(0,l.jsxs)(o.Z,{type:"button",className:"w-[90%] py-3 rounded-md relative",disabled:r<6||j,onClick:()=>{m(t,{onSuccess:()=>{u(),a(!1)}})},children:[j&&(0,l.jsx)("span",{className:"absolute left-20",children:(0,l.jsx)(p.$,{})}),"Submit"]})})]})]})},b=t(7259),g=function(){let[e,s]=(0,n.useState)(!1),[t,a]=(0,n.useState)(!1),{mutate:i,isPending:c}=(0,d.Z)({path:"/user/otp/once"}),u=()=>{i({},{onSuccess:()=>{a(!0)}})};return(0,l.jsx)("div",{children:(0,l.jsx)(r.J9,{initialValues:{password:"",otp:""},children:n=>{let{isSubmitting:i,resetForm:d,setFieldValue:x,values:h}=n;return(0,l.jsxs)(r.l0,{children:[(0,l.jsx)("label",{htmlFor:"",children:"Password"}),(0,l.jsxs)("div",{className:"flex w-full items-center gap-5",children:[e?(0,l.jsx)(b.I,{name:"password",autoFocus:e,autoComplete:"off",required:!0}):(0,l.jsx)("p",{className:"pl-0.5 pt-1 font-bold text-gray-400 text-2xl w-full",children:"********"}),e?(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsx)(o.Z,{type:"button",className:"w-[100px]",variant:"outline",disabled:c,onClick:()=>{s(!1),d()},children:"Cancel"}),(0,l.jsx)(o.Z,{type:"button",className:"w-[100px]",onClick:u,disabled:c||!h.password,children:"Save"}),(0,l.jsx)(m.aR,{open:t,onOpenChange:a,children:(0,l.jsx)(m._T,{className:"w-[473px] px-[70px] pt-[33px] pb-[52px] bg-white rounded-2xl shadow-lg",children:(0,l.jsx)(j,{setFieldValue:x,values:h,setShowOtpField:a})})})]}):(0,l.jsx)(o.Z,{type:"button",className:"w-[250px]",onClick:()=>s(!0),children:"Change Password"})]})]})}})})},f=function(e){let{currentEmail:s}=e;return(0,l.jsxs)("div",{className:"p-7 space-y-4 rounded-lg bg-custom-gray5",children:[(0,l.jsx)(u,{currentEmail:s}),(0,l.jsx)("div",{className:"w-full border border-gray-300"}),(0,l.jsx)(g,{})]})},v=t(4461),N=t(5651),y=function(e){let{name:s}=e,{values:t,setFieldValue:a}=(0,r.u6)(),{node:n,toggle:i,setToggle:c}=(0,v.Z)(),o=e=>{a(s,e)},d=null==t?void 0:t[s];return(0,l.jsxs)("div",{ref:n,className:"inline relative",children:[(0,l.jsxs)("div",{className:"inline-flex items-center gap-3 p-2 rounded-md border border-gray-500",children:[(0,l.jsx)("button",{type:"button",className:"size-6 rounded-full",style:{backgroundColor:d},onClick:()=>c(!i)}),(0,l.jsx)(N.ZE,{color:d,onChange:e=>o(e),prefixed:!0,className:"bg-transparent outline-none w-[80px]"})]}),i&&(0,l.jsx)("div",{className:"absolute mt-3",children:(0,l.jsx)(N.gW,{color:d,onChange:e=>o(e)})})]})},w=function(e){let{color:s}=e,{mutate:t,isPending:a,variables:n}=(0,d.Z)({path:"/color/edit",revalidate:"/user/setting"});if(s)return(0,l.jsx)(r.J9,{initialValues:{color:s},onSubmit:(e,s)=>{t(e,{onSuccess:()=>{i.A.success("Color changed successfully")}})},enableReinitialize:!0,children:e=>{let{isSubmitting:t,values:n,resetForm:i}=e;return(0,l.jsx)(r.l0,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"",children:"Brand Color"}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsxs)("div",{className:"flex items-center w-full justify-between",children:[(0,l.jsx)(y,{name:"color"}),s!==n.color&&(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsx)(o.Z,{type:"button",className:"w-[100px]",variant:"outline",onClick:()=>{i()},disabled:a,children:"Cancel"}),(0,l.jsx)(o.Z,{type:"submit",className:"w-[100px]",disabled:a,children:"Save"})]})]})})]})})}})},S=t(5675),C=t.n(S),Z=t(9993),k=t(1087),E=function(e){let{logo:s}=e,[t,a]=(0,n.useState)(!1),{mutate:r,isPending:c}=(0,d.Z)({path:"/user/change/logo",revalidate:"/user/setting"});return(0,l.jsxs)("div",{className:"relative size-[100px] rounded-full overflow-hidden bg-white",children:[s&&(0,l.jsx)(C(),{src:s,alt:"static logo",fill:!0,className:"object-cover"}),(0,l.jsx)("div",{className:"absolute inset-x-0 bottom-0 top-1/2 bg-white/70"}),(0,l.jsx)("div",{className:"absolute flex inset-x-0 bottom-2 justify-center items-center text-black",children:(0,l.jsx)(k.Z,{isLogo:!0,showImageModal:t,setShowImageModal:a,handleImageSubmit:e=>{r(e,{onSuccess:()=>{a(!1),i.A.success("Logo changed successfully")}})},imageSubmitting:c,children:(0,l.jsx)("button",{type:"button",children:(0,l.jsx)(Z.yl,{})})})})]})},F=function(e){let{name:s}=e,[t,a]=(0,n.useState)(!1),[u,m]=(0,n.useState)(s),{mutate:x,isPending:h}=(0,d.Z)({path:"/user/change/name",revalidate:"/user/setting"});return(0,l.jsx)(r.J9,{initialValues:{name:s||""},enableReinitialize:!0,onSubmit:(e,s)=>{x(e,{onSuccess:()=>{i.A.success("Name changed successfully"),s.resetForm(),m(e.name),a(!1)}})},children:e=>{let{isSubmitting:s,resetForm:n}=e;return(0,l.jsxs)(r.l0,{children:[(0,l.jsx)("label",{htmlFor:"",children:"Name"}),(0,l.jsxs)("div",{className:"flex w-full items-center gap-5",children:[t?(0,l.jsx)(c.b,{name:"name",type:"text",required:!0,autoFocus:t}):(0,l.jsx)("p",{className:"pl-0.5 pt-1 font-bold text-gray-400 text-2xl w-full",children:u}),t?(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[(0,l.jsx)(o.Z,{type:"button",className:"w-[100px]",variant:"outline",onClick:()=>{a(!1),n()},disabled:h,children:"Cancel"}),(0,l.jsx)(o.Z,{type:"submit",className:"w-[100px]",disabled:h,children:"Save"})]}):(0,l.jsx)(o.Z,{type:"button",className:"w-[200px]",onClick:()=>a(!0),children:"Change Name"})]})]})}})},_=function(e){let{logo:s,name:t,color:a}=e;return(0,l.jsxs)("div",{className:"p-7 space-y-4 rounded-lg bg-custom-gray5",children:[(0,l.jsx)(E,{logo:s}),(0,l.jsx)(F,{name:t}),(0,l.jsx)("div",{className:"w-full border border-gray-300"}),(0,l.jsx)(w,{color:a})]})},T=t(1163),A=t(1664),V=t.n(A),P=t(1574),R=function(e){let{values:s}=e,t={robotsTxt:s.robots_txt||""},{mutate:a,isPending:n}=(0,d.Z)({path:"/user/robots"});return(0,l.jsx)("div",{children:(0,l.jsx)(r.J9,{initialValues:t,onSubmit:(e,s)=>{a({robotsTxt:e.robotsTxt},{onSuccess:()=>{i.A.success("Robots text added"),s.resetForm()}})},children:e=>{let{isSubmitting:s}=e;return(0,l.jsx)(r.l0,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)(P.X,{name:"robotsTxt",className:"w-full",required:!0,rows:6}),(0,l.jsx)("div",{className:"mt-5 flex items-center gap-5",children:(0,l.jsx)(o.Z,{type:"submit",className:"px-9",disabled:n,children:"Save"})})]})})}})})},I=function(e){let{values:s}=e,t={sitemap:s.sitemap||""},{mutate:a,isPending:n}=(0,d.Z)({path:"/user/sitemap"});return(0,l.jsx)("div",{children:(0,l.jsx)(r.J9,{initialValues:t,onSubmit:(e,s)=>{a(e,{onSuccess:()=>{i.A.success("Sitemap added"),s.resetForm()}})},children:e=>{let{isSubmitting:s}=e;return(0,l.jsx)(r.l0,{children:(0,l.jsxs)("div",{children:[(0,l.jsx)(P.X,{name:"sitemap",className:"w-full",required:!0,rows:8}),(0,l.jsx)("div",{className:"mt-5 flex items-center gap-5",children:(0,l.jsx)(o.Z,{type:"submit",className:"px-9",disabled:n,children:"Save"})})]})})}})})},J=t(4713),O=t(7066),q=e=>{let{data:s}=e;return(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"font-bold text-xl mb-8",children:"Console Connected With"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)(C(),{src:s.picture,width:"100",height:"100",alt:"user avater"}),(0,l.jsxs)("div",{className:"px-8",children:[(0,l.jsx)("div",{className:"font-semibold",children:s.email}),(0,l.jsx)("div",{children:s.name})]})]})]})},z=function(){let[e,s]=(0,n.useState)("");return(0,n.useEffect)(()=>{(async()=>{let e=await O.Z.get("/api/google/user");200===e.status&&s(e.data)})()},[]),(0,l.jsx)("div",{children:e?(0,l.jsx)(q,{data:e}):(0,l.jsx)(J.Z,{})})},L=function(){let{mutate:e,isPending:s}=(0,d.Z)({path:"/user/canonical"});return(0,l.jsx)("div",{children:(0,l.jsx)(r.J9,{initialValues:{canonical:""},onSubmit:(s,t)=>{e(s,{onSuccess:()=>{i.A.success("Canonical url added"),t.resetForm()}})},children:e=>{let{isSubmitting:t}=e;return(0,l.jsxs)(r.l0,{children:[(0,l.jsx)(c.U,{name:"canonical",type:"text",required:!0}),(0,l.jsx)("div",{className:"mt-5",children:(0,l.jsx)(o.Z,{type:"submit",className:"px-5",disabled:s,children:"Canonical Url"})})]})}})})};let X={robots_txt:"",sitemap:"",discourage:!1};var U=function(){let e=[{name:"Search Console",param:"search_consol",formComponent:z},{name:"RobotsTxt",param:"robots_txt",formComponent:R},{name:"Sitemap",param:"sitemap",formComponent:I},{name:"Canonical",param:"canonical",formComponent:L}],s="search_consol",[t,a]=(0,n.useState)(!1),{query:r}=(0,T.useRouter)(),i=null==r?void 0:r.option;if((0,n.useEffect)(()=>{a(!0)},[]),!t)return;let c=(e.find(e=>e.param===i)||!i&&e.find(e=>e.param===s)).formComponent;return(0,l.jsxs)("div",{className:"mt-10",children:[(0,l.jsx)("div",{className:"inline-flex items-center gap-8 pb-5 border-b border-gray-300",children:e.map(e=>(0,l.jsx)(V(),{href:"/settings?option=".concat(e.param),replace:!0,scroll:!1,className:"text-3xl font-bold ".concat(i!==e.param&&(i||e.param!==s)?"text-gray-400":"text-black"),children:e.name},e.param))}),c&&(0,l.jsx)("div",{className:"mt-5",children:(0,l.jsx)(c,{values:X})})]})},W=t(6256),$=t(2258),B=function(){var e,s,t,n;let r=(0,$.Z)(),{data:i,isPending:c,isError:o,error:d}=(0,W.Z)({path:"/user/setting"}),u={name:(null==i?void 0:null===(e=i.data)||void 0===e?void 0:e.name)||"",color:(null==i?void 0:null===(s=i.data)||void 0===s?void 0:s.color)||r,email:(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.email)||"",logo:(null==i?void 0:null===(n=i.data)||void 0===n?void 0:n.logo)||""};return(0,l.jsx)(a.Z,{title:"Settings",description:"settings",heading:"Settings",isLoading:c,children:o?(0,l.jsx)("div",{className:"mt-5 p-5 border border-gray-300 rounded-xl bg-gray-50",children:(0,l.jsx)("p",{className:"text-gray-600",children:"Unable to load settings. Please try again later."})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mt-5 space-y-7",children:[(0,l.jsx)(_,{logo:u.logo,name:u.name,color:u.color}),(0,l.jsx)(f,{currentEmail:u.email})]}),(0,l.jsx)(U,{})]})})}}},function(e){e.O(0,[914,175,194,342,626,984,774,888,179],function(){return e(e.s=8356)}),_N_E=e.O()}]);